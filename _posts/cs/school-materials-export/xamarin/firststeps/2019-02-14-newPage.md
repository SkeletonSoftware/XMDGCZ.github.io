---
layout: post
title: "Přiadání nové Page "
categories:
    -"xamarin"
    -"firststeps"
author: "David Malý"
--- 


## Přidání nove XAML page do Xamarin.Forms projektu


Každá moderní aplikace se dnes vyznačuje přívětivým uživatelským rozhraním, bez něho, jako by nebyla.<br>


### Přidání nové Page


Xamarin.Forms Pages jsou multiplatformní třídy spravující grafické uživatelské rozhraní. Pro vytvoření nové Xamarin.Forms Page ji stačí přidat jako novou položku do Portable projektu.<br>

![](images/newItem.png)

Pro zápis a nastavení grafických elementů se používá značkovací jazyk podobný XML:
- WPF - XAML
- Android - XML
- iOS - XML

Značkovací jazyk (XML) se používá pro jeho vysokou efektivitu, pre-compilační compresi a jednoduché programatické zpracování. Oproti JSON je více strukturovaný a zažitý mezi vývojáři.<br>



Výběr šablony pro XAML page je: **Visual C# -> Cross-platform**. Zde jsou k nalezení i další šablony:
- Forms ContentPage - Page vytvořená pouze pomocí Code-behind
- Forsm ContentView - šablona pro vytvoření vlastního grafického prvku
- Forms XAML Page - Page vytvořená pomocí XAML a spravovaná pomocí Code-behind

Xaml je efektivní pro sdružování grafických elementů a jejich nastavení. C# je použit pro dynamiku a ovládání chování aplikace.<br>

![](images/newXAMLPage.png)

Po přidání šablony se automaticky zařadí do vybraného projektu (OurPage je název této Page). Nová Page je rozdělená na několik částí:
1. OurPage.xaml - pro xaml zápis
2. OurPage.xaml.cs - třída rozšiřující xaml o code-behind

![](images/createdXAMLPage.png)

Po otevření OurPage.xaml se zobrazí základní XAML zápis Xamarin.Forms Page, který určí základní konfiguraci, code-behind třídu a vytvoří jeden Label, který je vycentrovaný.


```

<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ShowApp.OurPage">
  <Label Text="{Binding MainText}" VerticalOptions="Center" HorizontalOptions="Center" />
</ContentPage> />

```


Pro změnu textu Labelu stačí změnit hodnotu v Text = např.:<br>


```

<Label Text="Our first page" VerticalOptions="Center" HorizontalOptions="Center" />

```


Code-behind pouze inicializuje základní komponenty. Odkazuje se na dědičnost na ContenPage (základní konfigurace pro Page).


```

namespace ShowApp
{
    public partial class OurPage : ContentPage
    {
        public OurPage()
        {
            InitializeComponent();
        }
    }
}

```

### Zobrazení nově přidané Xamarin.Forms Page


Pro zjednodušení ukázky nahradíme předdefinovanou Page nově vytvořenou. Ta se zobrazí jako úvodní obrazovka aplikace.<br>



Definice pro úvodní stránku se nalézá v třídě App umístěné v Portable projektu.<br>

![](images/appClass.png)

App třída je inicializační třída pro všechny projekty vč. platform-specific. Dědí z Application, která zaštiťuje celou aplikaci. Jako taková obsahuje základní metody pro spravování životního cyklu úvodní Page.<br>



Ze základní šablony pro Xamarin.Forms projekt pomocí code-behind vytváří novou Page, v ní centrovaný Label s pozdravem.<br>


```

  public class App : Application
{public App(){	// The root page of your application	MainPage = new ContentPage	{		Content = new StackLayout		{			VerticalOptions = LayoutOptions.Center,			Children = {				new Label {					HorizontalTextAlignment = TextAlignment.Center,					Text = "Welcome to Xamarin Forms!"				}			}		}	};}
protected override void OnStart(){	// Handle when your app starts}
protected override void OnSleep(){	// Handle when your app sleeps}
protected override void OnResume(){	// Handle when your app resumes}
}

```


Část, která vytvářící novou Page nahradíme námi vytvořenou XAML Page. Editovat stačí pouze constructor třídy. Výsledný constructor vypadá takto:<br>


```

public App()
{MainPage = new OurPage();
}

```
