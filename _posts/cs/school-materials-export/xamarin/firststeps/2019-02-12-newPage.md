## Přidání nove XAML page do Xamarin.Forms projektu

 Každá moderní aplikace se dnes vyznačuje přívětivým uživatelským rozhraním, bez něho, jako by nebyla. 

### Přidání nové Page

 Xamarin.Forms Pages jsou multiplatformní třídy spravující grafické uživatelské rozhraní. Pro vytvoření nové Xamarin.Forms Page ji stačí přidat jako novou položku do Portable projektu. 

![](images/newItem.png)

 Pro zápis a nastavení grafických elementů se používá značkovací jazyk podobný XML: * WPF - XAML * Android - XML * iOS - XML Značkovací jazyk (XML) se používá pro jeho vysokou efektivitu, pre-compilační compresi a jednoduché programatické zpracování. Oproti JSON je více strukturovaný a zažitý mezi vývojáři. 

Výběr šablony pro XAML page je: **Visual C# -> Cross-platform**. Zde jsou k nalezení i další šablony: * Forms ContentPage - Page vytvořená pouze pomocí Code-behind * Forsm ContentView - šablona pro vytvoření vlastního grafického prvku * Forms XAML Page - Page vytvořená pomocí XAML a spravovaná pomocí Code-behind Xaml je efektivní pro sdružování grafických elementů a jejich nastavení. C# je použit pro dynamiku a ovládání chování aplikace. 

![](images/newXAMLPage.png)

 Po přidání šablony se automaticky zařadí do vybraného projektu (OurPage je název této Page). Nová Page je rozdělená na několik částí: 1. OurPage.xaml - pro xaml zápis 2. OurPage.xaml.cs - třída rozšiřující xaml o code-behind 

![](images/createdXAMLPage.png)

Po otevření OurPage.xaml se zobrazí základní XAML zápis Xamarin.Forms Page, který určí základní konfiguraci, code-behind třídu a vytvoří jeden Label, který je vycentrovaný.

    <code class="language-C#"><?xml version="1.0" encoding="utf-8" ?>
    <ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
                 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                 x:Class="ShowApp.OurPage">
      <Label Text="{Binding MainText}" VerticalOptions="Center" HorizontalOptions="Center" />
    </ContentPage> />
    </code>

 Pro změnu textu Labelu stačí změnit hodnotu v Text = např.: 

    <code class="language-C#"><Label Text="Our first page" VerticalOptions="Center" HorizontalOptions="Center" />
    </code>

Code-behind pouze inicializuje základní komponenty. Odkazuje se na dědičnost na ContenPage (základní konfigurace pro Page).

    <code class="language-C#">namespace ShowApp
    {
        public partial class OurPage : ContentPage
        {
            public OurPage()
            {
                InitializeComponent();
            }
        }
    }
    </code>

### Zobrazení nově přidané Xamarin.Forms Page

 Pro zjednodušení ukázky nahradíme předdefinovanou Page nově vytvořenou. Ta se zobrazí jako úvodní obrazovka aplikace. 

 Definice pro úvodní stránku se nalézá v třídě App umístěné v Portable projektu. 

![](images/appClass.png)

 App třída je inicializační třída pro všechny projekty vč. platform-specific. Dědí z Application, která zaštiťuje celou aplikaci. Jako taková obsahuje základní metody pro spravování životního cyklu úvodní Page. 

 Ze základní šablony pro Xamarin.Forms projekt pomocí code-behind vytváří novou Page, v ní centrovaný Label s pozdravem. 

    <code class="language-C#">  public class App : Application
    {
        public App()
        {
            // The root page of your application
            MainPage = new ContentPage
            {
                Content = new StackLayout
                {
                    VerticalOptions = LayoutOptions.Center,
                    Children = {
                        new Label {
                            HorizontalTextAlignment = TextAlignment.Center,
                            Text = "Welcome to Xamarin Forms!"
                        }
                    }
                }
            };
        }

        protected override void OnStart()
        {
            // Handle when your app starts
        }

        protected override void OnSleep()
        {
            // Handle when your app sleeps
        }

        protected override void OnResume()
        {
            // Handle when your app resumes
        }
    }
    </code>

 Část, která vytvářící novou Page nahradíme námi vytvořenou XAML Page. Editovat stačí pouze constructor třídy. Výsledný constructor vypadá takto: 

    <code class="language-C#">public App()
    {
        MainPage = new OurPage();
    }
    </code>