## Ukládání nastavení Aplikace PCL

Jakub Bednář

Jak iOS tak Android mají svě přístupy k ukládání nastavení aplikace. Tímto uložením se zadaná data propíší pěvně do paměti a nezmizí při ukončení aplikace.

### Využití

Existuje nespočet ruzných možností, co u jaké aplikace nastavovat. Příkladem může být uložení Jména a Hesla pro přihlášení nebo nastavení lokalizačního balíčku. Knihovnu je také možné využít pro přístup k systémovým "klíčenkám"

### Advexp.Settings Local

Advexp.Settings Local je PCL knihovna určená pro Android a iOS platformy. Stačí přidat [Advexp.Settings Local](https://components.xamarin.com/view/advexp-settings-local) nugget do všech solutionu.

Po zdárné instalaci nuget je třeba vytvořit třídu, která definuje nastavení. Jako příklad je níže uvedena třída pro ukládání jména.

    <code class="language-C# ">using System;
    using Advexp;

    namespace dataSave
    {
        public class Settings: Advexp.Settings<settings>
        {
            // Definice prvku který chceme ukládat (prvků muže být kolik chceme)
            [Setting(Name = "SettingString", Default = "Derp")]
            public String SettingString { get; set; }

            // ** Netřeba měnit **
            // Jméno konfguračního souboru je automaticky
            // "{NamespaceName}.{ClassName}.{FieldName}"
            // Definice jména může být změněna
            // použitím SettingsConfiguration.SettingsNamePattern property
            // Defaultní název je: "{NamespaceName}.{ClassName}.{FieldName}"
            [Setting]
            public static String SettingWithAutoName { get; set; }
        }
    }</settings></code>

Pro načtení konfigurace stačí přidat následující řádek za inicializaci komponent (InitializeComponent();).

    <code class="language-C# ">Settings.LoadSettings();</code>

Pro uložení do konfigurace stačí přidat následující řádek a nejpozději při ukončování aplikace Uložit nastavení vz. řádek 2.

    <code class="language-C# ">Settings.Instance.SettingString = entry.Text;
    Settings.SaveSettings();</code>