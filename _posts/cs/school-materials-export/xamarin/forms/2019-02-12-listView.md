## ListView

 ListView je jedním ze základních UI elementů grafických aplikací. Zobrazuje data jako položky seznamu. 

![](images/ListView.png)

### Jednoduché ListView

	Nejjednodušším typem ListView je výpis položek jako text.

 Zápis v XAML 

    <code class="language-C# "><ListView x:Name="PeopleListViewNotFormatted"> 
    </code>

 Připojení dat v C# 

    <code class="language-C# ">List <Person> persons = new List<Person>();
    for (int i = 0; i < 10;="" i++)="" persons.add(new="" person()="" {="" lastname="Jméno" +="" i,="" firstname="Přijmení" +="" i,="" dateofbirth="new" datetime(1980+i,1,1)="" });="" peoplelistviewnotformatted.itemssource="persons;"></code>

 Třída Person. 

    <code class="language-C# ">public class Person
    {
        public string Lastname { get; set; }
        public string Firstname { get; set; }
        public int Age
        {
            get { return DateTime.Now.Year - DateOfBirth.Year; }
        }
        public DateTime DateOfBirth { get; set; }
        public ImageSource ProfilePhoto { get; set; }
        public string GetName => Lastname + " " + Firstname;

        public override string ToString()
        {
            return Firstname + " " + Lastname + " " + Age;
        }
    }
    </code>

### Formátované ListView

 Položky v ListView lze formátovat dle šablony tak, aby mohly zobrazovat složitější datové struktury. 

 Tvorba šablony se řídá dle struktury ListView -> ItemTemplate -> DataTemplate -> ViewCell. 

    <code class="language-C# "><ListView x:Name="PeopleListViewFormatted">
       <ListView.ItemTemplate>
            <DataTemplate>
               <ViewCell>

                        // Šablona 

               </ViewCell>
             </DataTemplate>
       </ListView.ItemTemplate>
     </ListView>
    </code>

 ListView zobrazující položky jako kontakty v telefonu. Využívá DataBinding, které je nastavené na atributy třídy Person (GetName a Age). 

    <code class="language-C# "><ListView x:Name="PeopleListViewFormatted" Grid.Row="1">
       <ListView.ItemTemplate>
            <DataTemplate>
               <ViewCell>

                     <Grid HeightRequest="100">
                       <Grid.RowDefinitions>
                            <RowDefinition Height="*" >
                            <RowDefinition Height="*">
                       </Grid.RowDefinitions>
                       <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*">
                            <ColumnDefinition Width="5*">
                       </Grid.ColumnDefinitions>
                            <Label Text="{Binding GetName}" FontAttributes="Bold" Grid.Row="0" Grid.Column="1" VerticalTextAlignment="End" >
                            <Label Text="{Binding Age}" Grid.Row="1"  Grid.Column="1" FontSize="11" VerticalTextAlignment="Start"  />
                            <abstractions:CircleImage  Source="{Binding ProfilePhoto}" WidthRequest="95" HeightRequest="95" HorizontalOptions="Center" Aspect="AspectFill" Grid.Column="0" Grid.RowSpan="2">
                     </Grid>

               </ViewCell>
             </DataTemplate>
       </ListView.ItemTemplate>
     </ListView>
    </code>

 Použití v C#. 

    <code class="language-C# ">List<Person> persons = new List<Person>();
    for (int i = 0; i < 10;="" i++)="" persons.add(new="" person()="" {="" lastname="Jméno" +="" i,="" firstname="Přijmení" +="" i,="" dateofbirth="new" datetime(1980+i,1,1)="" });="" peoplelistviewformatted.itemssource="persons;"></code>

 Třída Person. 

    <code class="language-C# ">public class Person
    {
        public string Lastname { get; set; }
        public string Firstname { get; set; }
        public int Age
        {
            get { return DateTime.Now.Year - DateOfBirth.Year; }
        }
        public DateTime DateOfBirth { get; set; }
        public ImageSource ProfilePhoto { get; set; }
        public string GetName => Lastname + " " + Firstname;

        public override string ToString()
        {
            return Firstname + " " + Lastname + " " + Age;
        }
    }
    </code>

### Kliknutí na položku a zavolání metody

 V grafických aplikacích mohou být seznamy interaktivní. Nejběžnější interaktivitu zajišťuje výběr jedné položky v seznamu. 

 Zápis v XAML. 

    <code class="language-C# "><ListView x:Name="PeopleListViewFormatted" Grid.Row="1" ItemTapped="SelectedItemMethod"> </ListView>
    </code>

 Použití v C# 

    <code class="language-C# ">private void SelectedItemMethod(object sender, ItemTappedEventArgs e)
    {
        // Interaction logic
    }
    </code>