---
layout: post
title: "UWP "
categories:
    - "csharp"
    - "dotnet"
sort_index: 2
author: "David Malý"
--- 


## Universal Windows Platform


Michal Moudrý



    V červenci 2015 byl vydán Windows 10, který běžel na zařízeních jako herní konzole Xbox One, mobilní telefony, IoT, Microsoft Hololens a další viz. Obrázek 1.    Tento OS měl stejné jádro a kód na všech zařízeních, což vedlo k vytvoření UWP, také známé jako UAP (Universal Application Platform).

![Přehled UWP](images/uwp.png "Přehled UWP")**Obrázek 1 - Přehled UWP**

    Tato platforma není runtime, ale jedná se o aplikační model a API, které je zaručeně dostupné na podporovaných typech zařízení.    Vývojář tedy nebude závislý na operačním systému, jako tomu bylo před tím u WinRT. Místo toho se bude zaměřovat aplikační platformu, respektive na konkrétní sadu a verzi API.    Ve výsledku lze tedy vytvořit jeden aplikační balíček, který lze nainstalovat na velké množství typů zařízení.



Pozn.    *UWP = Universal Windows Platform*



[Sample - UWP To-do app](https://github.com/MichalMoudry/UWP-TodoApp "UWP To-do app")


### Univerzální Windows Aplikace


    Aplikace vyvíjené na této platformě jsou označovány jako Univerzální Windows Aplikace ve zkratce UWA.



    Rozdíly mezi nimi a ostatními je právě ta samotná platforma, jež poskytuje jednotné API, ale také jsou distribuovány ve formátu .appx, který poskytuje důvěryhodný instalační proces a zajišťuje, že aplikace budou nasazeny a aktualizovány.    Samozřejmě tyto aplikace mohou využívat i ostatní API (Win32 nebo .NET) než univerzální, třeba pro implementaci určité funkcionality na mobilním telefonu nebo na herní konzoli.    Tyto rozhraní jsou zahrnuty v tzv. Extension SDK.



    Jelikož lze UWA instalovat na mnoho zařízení, tak UWP poskytuje ovládací prvky, jež se přizpůsobují zařízení a aplikace tedy podporují velké množství vstupů, jako klávesnice, dotek, herní ovladač a další.



    Pro přizpůsobení prvků UI se používá systém pro škálování a tzv. *Effective pixels* za účelem zlepšení čitelnosti a zjednodušení používání daných prvků.    Tento systém využívá algoritmus, který pro optimalizaci uživatelského rozhraní vezme PPI zařízení společně s průměrnou vzdáleností mezi uživatelem a zařízením viz. Obrázek 2.

![Ukázka škálování fontu](images/scalling.png "Ukázka škálování fontu")**Obrázek 2 - Ukázka škálování fontu**

    Vývojář při tvorbě uživatelského rozhraní tedy nepracuje s fyzickými pixely ale s efektivními (epx), kdy se jedná o virtuální jednotku a používá se pro specifikování rozměrů nezávisle na PPI displeje zařízení.


### Device famillies


    Jelikož je důležité, aby aplikace běžely na různých typech zařízení, tak byl vytvořen koncept zvaný *Device famillies*, přičemž se jedná o označení skupin zařízení viz. Obrázek 3, respektive popis dostupných API, systémových vlastností a jejich chování na daném typu.



    Mezi ně patří kupříkladu Desktop device family, jež označuje desktop, laptop i tablet. Ve výsledku to znamená, že každá rodina přidává dodatečné rozhraní ke zděděným z Universal device family, která poskytuje API dostupné na všech zařízeních.    Ovšem vývojář se musí rozhodnout, které bude podporovat a k tomuto rozhodnutí musí uzpůsobit výslednou aplikaci, tedy napsání tzv. adaptivního kódu (využití API za podmínky její dostupnosti) nebo přizpůsobení UI pro jednotlivé druhy zařízení nebo vytvořit adaptivní uživatelské rozhraní k čemuž se použijí epx při určování takzvaných breakpoints viz. Tabulka 1.



    Problémem je, že univerzální API nemusí být kompletní na zařízení, což vývojář musí vzít v úvahu při rozhodování, kdy například na herní konzoli Xbox není třída Web Account Manager, která se nachází v ostatních rozhraní.



| Označení třídy | Šířka v epx | Úhlopříčka | Typické zařízení |
| --- | --- | --- | --- |
| Malé | <640epx | 4" - 6" | Telefon |
| Střední | 641epx - 1007epx | 7" - 12" | Tablet |
| Veliké | >1007epx | 13" a větší | Desktop, laptop, Surface Hub, ... |

**Tabulka 1 - Přehled tříd velikostí**![Přehled rodin zařízení](images/device-family-tree.png "Přehled rodin zařízení")**Obrázek 3 - Přehled rodin zařízení**
### Zdroje


    1. **Wigley, Andy** a **Nixon, Jerry**. Windows 10 - An Introduction to Building Windows Apps for Windows 10 Devices. MSDN Magazine. [Online] Microsoft, 5 2015. [Citace: 7. 3. 2018.]    https://msdn.microsoft.com/magazine/dn973012.aspx.



    2. **Microsoft** Windows 10 update history. Windows support. [Online] Microsoft. [Citace: 7. 3. 2018.]    https://support.microsoft.com/en-us/help/4000823.



    3. **Whitney, Tyler**. Intro to the Universal Windows Platform. Microsoft Docs. [Online] Microsoft, 27. 10. 2017. [Citace: 12. 2. 2018.]    https://docs.microsoft.com/en-gb/windows/uwp/get-started/universal-application-platform-guide.



    4. **Radich, Quinn**. What's a Universal Windows Platform (UWP) app? Microsoft Docs. [Online] Microsoft, 3. 22. 2018. [Citace: 7. 3. 2018.]    https://docs.microsoft.com/en-us/windows/uwp/get-started/whats-a-uwp.



    5. **Zheng, Serena**. Introduction to UWP app design. Microsoft Docs. [Online] Microsoft, 12. 13. 2017. [Citace: 7. 3. 2018.]    https://docs.microsoft.com/en-us/windows/uwp/design/basics/design-and-ui-intro.



    6. **Jacobs, Mike**. Screen sizes and break points for responsive design. Microsoft Docs. [Online] Microsoft, 30. 8. 2017. [Citace: 8. 3. 2018.]    https://docs.microsoft.com/en-us/windows/uwp/design/layout/screen-sizes-and-breakpoints-for-responsive-design.

