## Task - Úloha

Úloha je stejně jako vlákno jen soubor instrukcí, které má procesor vykonat.  
 Úloha může mít několik podob

*   **Thread** - způsob využívající abstrakci na nižší úrovni
*   **Task** - vysokoúrovňová abstrakce, .NET na ní staví nové technologie - doporučená
*   **Async** - typicky nevytváří nové vlákno, pouze běží, když jsou uvolněny prostředky
*   **Await** - podobné jako Async, ale očekává metodu, která je awaitable
*   **ThreadPool** - třída do které se ukládají všechna vlákna
*   **TaskParallel Library** - knihovna pro rozdělení jedné činnosti do více vláken

Úloha běží tak dlouho jako celý aplikační proces. S ukončením aplikace jsou ukončena i všechna její vlákna.

### ThreadPool

Použití třídy ThreadPool umožňuje spravovat všechna vlákna, která jsou do něj uložena.

Organizace pomocí ThreadPool:

*   Při vytvoření nového vlákna se uloží do ThreadPool.
*   Při pozastavení vlákna se jeho stav uloží.
*   Při obnovení činnosti vlákna se jeho poslední stav získá z ThreadPool včetně celé instance vlákna.

Využívá se hlavně kvůli tomu, že při pozastavení vlákna se může stát, že bude smazáno a při jeho obnovení by se muselo znovu vytvářet, takto ho stačí jen znovu načíst.

### Async - Await a Task/Thread

Pro pochopení: Vlákno si můžeme představit jako pracovníka (worker), který hraje hry, ale dostal hlad.

Má dvě možnosti:

1.  Pauznout hru a udělat si jídlo - async/await -> stejný worker
2.  Nebo
	Zavolat na tuto činnost jiného pracovníka a hrát dál, až do chvíle než své jídlo dostane - new Thread/Task - další worker

### Task

Vytvoření nového vlákna a spuštění vybrané metody.

    <code class="language-C# ">using System.Threading.Tasks;

    Task task = new Task(new Action(Metoda));
    task.Start();
    </code>

[7 způsobů jak spustit Task](http://dotnetcodr.com/2014/01/01/5-ways-to-start-a-task-in-net-c/)  

### Thread

    <code class="language-C# ">using System.Threading.Tasks;
    Thread workerThread = new Thread(NeverEndingProc);
    workerThread.Start();
    </code>