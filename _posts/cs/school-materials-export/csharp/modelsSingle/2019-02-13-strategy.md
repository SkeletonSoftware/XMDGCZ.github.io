---
layout: post
title: "strategy.php "
categories:
    -"csharp"
    -"csharp"
author: "David Malý"
--- 


##   Strategy pattern 


David Povýšil



Strategy pattern (také znám jako policy pattern) je strategie používaná v objektově orientovaném programování, která umožňuje změnit chování třídy za běhu programu.


### Strategie


Na začátek by bylo dobré si říct něco o tom, jak strategie vůbec fungují. Představme si tedy například třídu Auto, interface IChovaniBrzd a metody (strategie)				Brzdit() a Brzdit\_s\_ABS().				Třída auto bude implementovat interface IChovaniBrzd, který v sobě bude mít strategie Brzdit() a Brzdit\_s\_ABS(). Poté je pro každé auto třeba definovat chování (strategii), 				jak bude brzdit.				![Obrázek popisující strategie](https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/StrategyPattern_IBrakeBehavior.svg/530px-StrategyPattern_IBrakeBehavior.svg.png)*Obrázek popisující strategie*


###  Základ 


Vysvětleme si na tomto příkladu velice jednoduše fungování strategy pattern.				*auto = new Auto();					auto.akcelerace();*				Vytvořili jsme novou instanci třídy Auto a následně jsme autu řekli, aby pomocí metody akcelerace() začalo zrychlovat svou rychlost.				A teď si představme, že se před námi objevila kolona a chceme změnit chování (strategii) auta. Nemůžeme dále akcelerovat, musíme brzdit.				Pomocí strategy pattern lze toto chování změnit za běhu programu (runtimu).


###  Upgrade auta 


Jako další příklad si můžeme uvést upgrade auta ve hře.				Chceme-li změnit chování auta, tak změníme jeho motor. Jiný motor bude mít jiné výkonnostní hodnoty.				*```

Class Auto() 
{this.motor = new Motor(this)method jezdi(){	this.motor.jezdi();}method zmenaMotoru(motor) {	this.motor = motor;}
}

```*				Změna motoru ovlivní metodu jezdi() a tím ovlivní i vlastnosti auta.				Strategy pattern je užitečná pro situace, kde je nezbytné dynamicky změnit algoritmus používaný v aplikaci.


###  Počítač 


V tomto příkladě upgradujeme počítač. Ve hře jsme se dostali k lepšímu vybavení počítače a můžeme ho upgradovat. Novými komponenty se změní jejich hodnoty a celkový výkonnost PC.				*```

Class Pocitac() 
{this.cpu = new cpu(this)method vykonnostCpu(){	this.cpu.vykonnostCpu();}this.gpu = new gpu(this)method vykonnostGpu(){	this.gpu.vykonnostGpu();}this.ram = new ram(this)method vykonnostRam(){	this.ram.vykonnostRam();}method upgradePocitace(cpu, gpu, ram) {	this.cpu = cpu;	this.gpu = gpu;	this.ram = ram;}
}
```*


###  Class diagram 





####  Obecný class diagram 


Na tomto obecném class diagramu můžeme vidět třídu Strategy, kde je společný kód; 3 třídy nějaké konkrétní strategie ConcreteStrategyX, které implementují daný algoritmus Strategy interface; třídu Context, kterou vytváří konkrétní strategie.						![Obecný diagram](http://www.dofactory.com/images/diagrams/net/strategy.gif)


####  Konkrétní class diagram 


Na tomto obrázku můžeme vidět podobný příklad s autem. Třída Car používá interface IBrakeBehavior, ve kterém jsou zakomponovány metody chování při brždění s ABS a bez něj - BrakeWithABS a Brake.						*```

Class Auto() 
{if (soucastky["brzdnySystemABS"]>0) {	method brzdi()	{		this.auto.brzdiSABS();	}}else{	method brzdi()	{		this.auto.brzdi();	}}
}
```*![Chování brzd](https://upload.wikimedia.org/wikipedia/commons/4/4b/StrategyPattern_IBrakeBehavior.svg)

