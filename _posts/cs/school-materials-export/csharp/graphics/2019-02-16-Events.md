---
layout: post
title: "Eventy "
categories:
    - "csharp"
    - "graphics"
sort_index: 2
author: "David Malý"
--- 


## Události - Events


Pokaždé, když uživatel provede nějakou akci (stiskne tlačítko, klikne myší) vyvolává tím událost (event) a záleží jen na prostředí zda tuto událost zachytí.



Kromě uživatele mohou události vyvolávat i ostatní prvky v prostředí OS, typicky lze zachytit např. změnu textu u vybraného grafického elementu, nebo i odchytit zapnutí WIFI adaptéru.


### Události uživatele v souvislosti GUI
Několik vybraných událostí pro formulář:
- Click
- Closed
- Closing
- Font changed

A [další](https://msdn.microsoft.com/en-us/library/system.windows.forms.form_events%28v=vs.110%29.aspx)



Několik vybraných událostí pro TextBox:


- Click
- BackgroundColorChanged
- DragOver
- GotFocus


### Použití ve WinForms a WPF


Následující příklad ukazuje:


1. Vytvoření tlačítka
2. Zaregistrování listeneru (naslouchání) na stisknutí tlačítka
3. Metodu, která se provede po stisku tlačítka



Vytvoření tlačítka ve WinForms


```

this.button1 = new System.Windows.Forms.Button();

```


Zaregistrování listeneru ve WinForms


```

this.button1.Click += new System.EventHandler(this.button1_Click);

```


Vytvoření tlačítka ve WPF včetně registrování listeneru Click


```



```


Formulář Form1 a v něm tlačítko button1.
Uživatel na toto tlačítko klikne a vyvolá událost Click.
Zavolá se metoda Click spojená s tímto tlačítkem:


```

 private void button1_Click(object sender, EventArgs e)
{// Set new location for first buttonbutton1.Location = new Point(60, 60);
// shows "This window is called from your new Button"MessageBox.Show("This window is called from your new Button");
}

```


Metoda se jmenuje stejně jako tlačítko spojené s **\_** a událostí, kterou odchytává. Je vždy na programátorovi, aby tyto události zachytil.



Pro správné fungování listeneru je nutné registrovat událost v deklaraci grafického rozhraní (WPF - XAML) a deklarovat potřebnou metodu přímo v kódu.



Object sender je zdroj události a EventArgs e jsou dodatečné parametry, které mohou být poslány společně s událostí.



*Pozn. aktivita v hlavním vláknu aplikace by měla být vždy co nejjednodušší a v případě potřeby rozdělena do více vláken.*

[Ukázka aplikace se základními eventy](attachment/WinFormsEvents.zip)

[Ukázka jednoduché aplikace se základními prvky](attachment/WinFormsTools.zip)